<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style_registroPaciente.css">
    <title>Nuevo Paciente</title>
</head>
<body>
    <div class="navbar">
        <a href="#">Inicio</a>
        <a href="#">Pacientes</a>
        <a href="#">Usuarios</a>
        <a href="#" class="cerrarsesion">Cerrar Sesión</a>
    </div>

    <form class="form">
        <h2 class="form_title">Nuevo paciente</h2><br>
        <div class="form_containers">
            <div class="form_group">
                <h2 class="form_antec">Datos generales</h2><br>

                <input type="text" name="nombre" id="nombre" class="form_input" placeholder="Nombre completo"><br><br>
                <input type="email" name="correo" id="correo" class="form_input" placeholder="Correo"><br><br>
                <label class="form_label">Fecha de nacimiento</label> <br>
                <input type="date" name="fecha_de_nacimiento" id="fecha_de_nacimiento" class="form_input"><br><br>
                <input type="text" name="lugar_de_nacimiento" id="lugar_de_nacimiento" class="form_input" placeholder="Lugar de nacimiento"><br><br>
                <input type="text" name="edad" id="edad" class="form_input" placeholder="Edad"><br><br>
                <input type="text" name="sexo" id="sexo" class="form_input" placeholder="Sexo"><br><br>
                <input type="text" name="domicilio_calle" id="domicilio_calle" class="form_input" placeholder="Calle"><br><br>
                <input type="text" name="domicilio_municipio" id="domicilio_municipio" class="form_input" placeholder="Municipio"><br><br>
                <input type="text" name="domicilio_colonia" id="domicilio_colonia" class="form_input" placeholder="Colonia"><br><br>
                <input type="text" name="domicilio_colonia" id="domicilio_estado" class="form_input" placeholder="Estado"><br><br>
                <input type="text" name="no_domicilio" id="no_domicilio" class="form_input" placeholder="Número de domicilio"><br><br>
                <input type="text" name="tel" id="tel" class="form_input" placeholder="Celular"><br><br>
                <input type="text" name="ocupacion" id="ocupacion" class="form_input" placeholder="Ocupación"><br><br>
                <label class="form_label">Última cita</label>
                <input type="date" name="fecha_ultima_consulta" id="fecha_ultima_consulta" class="form_input"><br><br>
                <label class="form_label">Motivo de consulta</label>
                <textarea class="form_input" name="motivo_de_consulta" id="motivo_de_consulta" cols="30" rows="6"></textarea><br><br>

                <button class="form_submit" id="submitButton">Siguiente</button>
            </div>
        </div>
    </form>

    <script>
        document.getElementById('submitButton').addEventListener('click', function(event) {
            event.preventDefault(); // Evita que se envíe el formulario y se recargue la página
            const no_expediente=989;
            const nombre = document.getElementById('nombre').value;
            const correo = document.getElementById('correo').value;
            const fecha_de_nacimiento = document.getElementById('fecha_de_nacimiento').value;
            const lugar_de_nacimiento = document.getElementById('lugar_de_nacimiento').value;
            const edad = document.getElementById('edad').value;
            const sexo = document.getElementById('sexo').value;
            const domicilio_calle = document.getElementById('domicilio_calle').value;
            const domicilio_municipio = document.getElementById('domicilio_municipio').value;
            const domicilio_estado = document.getElementById('domicilio_estado').value;
            const domicilio_colonia = document.getElementById('domicilio_colonia').value;
            const no_domicilio = document.getElementById('no_domicilio').value;
            const tel = document.getElementById('tel').value;
            const ocupacion = document.getElementById('ocupacion').value;
            const fecha_ultima_consulta = document.getElementById('fecha_ultima_consulta').value;
            const motivo_de_consulta = document.getElementById('motivo_de_consulta').value;

            const pacienteData = {
                no_expediente,
                nombre,
                correo,
                fecha_de_nacimiento,
                lugar_de_nacimiento,
                edad,
                sexo,
                domicilio_calle,
                domicilio_municipio,
                domicilio_estado,
                domicilio_colonia,
                no_domicilio,
                tel,
                ocupacion,
                fecha_ultima_consulta,
                motivo_de_consulta
            };

            // Convierte el objeto pacienteData a JSON y lo muestra en la consola
            console.log(JSON.stringify(pacienteData, null, 2));

            // Realiza la solicitud POST a la URL
            fetch('http://64.227.5.83:8080/odontesis/datosgenerales', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(pacienteData)
            })
            .then(response => console.log(response))
            .then(data => {
                console.log(data); // Aquí puedes manejar la respuesta de la API si es necesario
            })
            .catch(error => console.error(error));
        });
    </script>
</body>
</html>
